# Load Test Configuration - PostgreSQL
# 실제 PostgreSQL 데이터베이스를 사용하여 테스트 데이터가 영구적으로 저장됩니다.

# PostgreSQL Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/concert_reservation
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=concert_user
spring.datasource.password=concert_pass

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=5000ms

# Lettuce Connection Pool Configuration (for Load Testing)
spring.data.redis.lettuce.pool.max-active=2000
spring.data.redis.lettuce.pool.max-idle=1000
spring.data.redis.lettuce.pool.min-idle=100
spring.data.redis.lettuce.pool.max-wait=3000ms
spring.data.redis.lettuce.shutdown-timeout=1000ms

# JPA Configuration
# 기존 테이블 사용, 데이터 유지
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# data.sql 실행 안 함 (이미 테이블이 존재)
spring.sql.init.mode=never

# Allow bean definition override
spring.main.allow-bean-definition-overriding=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.example.concert_reservation=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# 로그 패턴 설정
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) [%thread] %cyan(%logger{36}) : %msg%n
